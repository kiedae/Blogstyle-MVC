{{> layouts/main}}

{{#contentFor "body"}}
  <section id="post">
    {{#if post}}
      <h2>{{post.title}}</h2>
      <p class="post-date">Posted on {{formatDate post.createdAt}} by {{post.User.username}}</p>
      <div class="post-content">{{{post.content}}}</div>
      <h3>Comments</h3>
      {{#if comments.length}}
        <ul class="comment-list">
          {{#each comments}}
            <li class="comment-item">
              <p><strong>{{User.username}}:</strong> {{commentText}}</p>
              <p class="comment-date">Commented on {{formatDate createdAt}}</p>
            </li>
          {{/each}}
        </ul>
      {{else}}
        <p>No comments yet. Be the first to comment!</p>
      {{/if}}
    {{else}}
      <p>Blog post not found.</p>
    {{/if}}
  </section>
{{/contentFor}}